{% comment %}
  Payment Configuration Section
  This section configures the Shopify product integration for payment processing
{% endcomment %}

<script>
  // Set up payment configuration
  window.shopifyPaymentConfig = {
    singleSongVariantId: '{{ section.settings.single_song_variant_id }}',
    epVariantId: '{{ section.settings.ep_variant_id }}',
    currency: '{{ section.settings.currency | default: "EUR" }}',
    enablePayments: {{ section.settings.enable_payments | default: true }}
  };
</script>

{% schema %}
{
  "name": "Payment Configuration",
  "settings": [
    {
      "type": "header",
      "content": "Shopify Product Integration"
    },
    {
      "type": "paragraph",
      "content": "To enable payments, you need to create products in Shopify and enter their variant IDs here. Go to Products > Add product in your Shopify admin."
    },
    {
      "type": "text",
      "id": "single_song_variant_id",
      "label": "Single Song Product Variant ID",
      "info": "The Shopify variant ID for the €49 single song product"
    },
    {
      "type": "text",
      "id": "ep_variant_id", 
      "label": "EP Product Variant ID",
      "info": "The Shopify variant ID for the €99 EP (4 songs) product"
    },
    {
      "type": "select",
      "id": "currency",
      "label": "Currency",
      "options": [
        {
          "value": "EUR",
          "label": "Euro (EUR)"
        },
        {
          "value": "USD",
          "label": "US Dollar (USD)"
        },
        {
          "value": "GBP",
          "label": "British Pound (GBP)"
        }
      ],
      "default": "EUR"
    },
    {
      "type": "checkbox",
      "id": "enable_payments",
      "label": "Enable Payment Processing",
      "default": true,
      "info": "Turn off to disable payment buttons (for testing)"
    },
    {
      "type": "header",
      "content": "Setup Instructions"
    },
    {
      "type": "paragraph",
      "content": "1. Go to Products in your Shopify admin\n2. Create a product called 'Single Song' with price €49\n3. Create a product called 'EP (4 Songs)' with price €99\n4. Copy the variant IDs from the product URLs and enter them above\n5. Enable Shopify Payments in your payment settings"
    }
  ],
  "presets": [
    {
      "name": "Payment Configuration"
    }
  ]
}
{% endschema %}
